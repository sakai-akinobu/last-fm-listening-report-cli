# Lastify

![npm version](https://img.shields.io/npm/v/lastify.svg?style=flat)
![GitHub license](https://img.shields.io/badge/license-MIT-green.svg)
[![CircleCI](https://circleci.com/gh/sakai-akinobu/lastify.svg?style=svg)](https://circleci.com/gh/sakai-akinobu/lastify)

Generate [Last.fm](https://www.last.fm) listening report for CLI.

## Installation

```
npm install -g lastify
```

## Usage

You need to pass the [Last.fm](https://www.last.fm) username and API key as arguments. The API key for [Last.fm](https://www.last.fm) can be obtained from [here](https://www.last.fm/api).

```
lastify --user ${LAST_FM_USER} --api-key ${LAST_FM_API_KEY}
```

You can also set it as environment variables if you like.

```
export LASTIFY_API_KEY=${LAST_FM_API_KEY}
export LASTIFY_USER=${LAST_FM_USER}
```

## Options

| option | description |
| --- | --- |
| -k, --api-key [api-key] | API key generated by [Last.fm](https://www.last.fm). See also https://www.last.fm/api |
| -u, --user [user] | User name on [Last.fm](https://www.last.fm). |
| -p, --period [period] | The time period over which to retrieve. default 1month. overall \| 7day \| 1month \| 3month \| 6month \| 12month |
| -l, --limit [limit] | The number of results to fetch. default 3. |
| -h, --help | output usage information. |

## Examples

```
lastify
# Recent Tracks
┌─────────────────────────┬─────────────────────────┬────────────────────────────┬────────────────────┐
│ Artist                  │ Album                   │ Track                      │ Date               │
├─────────────────────────┼─────────────────────────┼────────────────────────────┼────────────────────┤
│ Envy                    │ Envy/Jesu Split         │ A Winter Quest For Fantasy │                    │
├─────────────────────────┼─────────────────────────┼────────────────────────────┼────────────────────┤
│ Envy                    │ Envy/Jesu Split         │ Conclusion of Existence    │ 17 Mar 2019, 08:43 │
├─────────────────────────┼─────────────────────────┼────────────────────────────┼────────────────────┤
│ Rob Crow's Gloomy Place │ You’re Doomed. Be Nice. │ Rest Your Soul             │ 17 Mar 2019, 08:29 │
├─────────────────────────┼─────────────────────────┼────────────────────────────┼────────────────────┤
│ Rob Crow's Gloomy Place │ You’re Doomed. Be Nice. │ No Shadow Left Behind      │ 17 Mar 2019, 08:25 │
└─────────────────────────┴─────────────────────────┴────────────────────────────┴────────────────────┘

# Top Albums
┌───────────────────────────┬─────────────────────────┬────────────┐
│ Album                     │ Artist                  │ Play count │
├───────────────────────────┼─────────────────────────┼────────────┤
│ Lost Inside The Machinery │ Self-Evident            │ 729        │
├───────────────────────────┼─────────────────────────┼────────────┤
│ Information Retrieved     │ Pinback                 │ 603        │
├───────────────────────────┼─────────────────────────┼────────────┤
│ You’re Doomed. Be Nice.   │ Rob Crow's Gloomy Place │ 548        │
└───────────────────────────┴─────────────────────────┴────────────┘

# Top Artists
┌──────────────┬────────────┐
│ Artist       │ Play count │
├──────────────┼────────────┤
│ Self-Evident │ 1020       │
├──────────────┼────────────┤
│ Pinback      │ 839        │
├──────────────┼────────────┤
│ Basement     │ 706        │
└──────────────┴────────────┘

# Top Tracks
┌──────────────┬─────────────────────────┬────────────┐
│ Artist       │ Track                   │ Play count │
├──────────────┼─────────────────────────┼────────────┤
│ Self-Evident │ Waiting Forever Tonight │ 276        │
├──────────────┼─────────────────────────┼────────────┤
│ Pinback      │ Sediment                │ 190        │
├──────────────┼─────────────────────────┼────────────┤
│ Basement     │ Summer's Colour         │ 139        │
└──────────────┴─────────────────────────┴────────────┘
```

## License

MIT license
